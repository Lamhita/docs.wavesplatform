# Обновить ноду

Если вы являетесь владельцем ноды, регулярно проверяйте обновления на странице [Releases](https://github.com/wavesplatform/Waves/releases/). При появлении обновления, подразумевающего изменения консенсуса, необходимо обновить ноду. Если не применить обновления, содержащие изменения консенсуса, ваша нода может перестать работать. Релизы новых версий поставляются с документом, в котором описываются новые функции и сообщается как обновлять ноду.

Перед обновлением ноды, проверьте тип используемой установки. Это может быть файл **DEB** (Deb-base GNU/Linux) или файл **JAR** (любая операционная система). В зависимости от типа используемой установки выполните одну из следующих процедур для обновления ноды. Для получения дополнительной информации о типах установки ноды Waves см. статью [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

## Обновление через APT репозиторий

Пожалуй, самый удобный метод установки/обновления ноды Waves на Linux - это через APT репозиторий. Репозиторий содержит пакеты mainnet, testnet и stagenet.

Подробное описание процесса см. в секции [Установка из APT репозитория](/ru/waves-node/how-to-install-a-node/on-ubuntu#установка-из-apt-репозитория) статьи про установку ноды.

## Обновление JAR ноды

Чтобы обновить **JAR** ноду, выполните следующие шаги:

1. Запустите ноду, если она не запущена, выполнив следующую команду:

   ```bash
   java -jar waves.jar waves.conf
   ```

   **Примечание:** Более подробно запуск ноды описан в статье  [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

2. Проверьте версию установленной ноды в файле **/var/log/waves/waves.log** или в названии **JAR** файла.
3. Проверьте актуальную версию ноды на странице [Releases](https://github.com/wavesplatform/Waves/releases) и скачайте последнюю версию (**Mainnet**, **Testnet** или **Stagenet**, в зависимости типа ноды) **JAR** файла.
4. Изучите информацию о версии (release notes) на предмет необходимости повторной сборки базы данных блокчейн.
5. **При необходимости:** если новая версия ноды подразумевает повторную сборку блокчейна, экспортируйте существующую базу данных.
Подробное описание экспорта/импорта базы данных описано в статьях [Экспорт/Импорт блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain) и [Загрузка актуального блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/state-downloading-and-applying).

   **Note:** импорт/экспорт блоков не является обязательным, но позволит сэкономить интернет-трафик и не загружать базу данных из сети целиком.

6. Остановите ноду (Остановите процесс java Waves).

7. Замените старый **JAR** файл новой скачанной версией.

8. **При необходимости**: если новая версия ноды подразумевает повторную сборку базы данных, импортируйте бинарный файл. Подробное описание импорта блоков описано в статье [Экспорт/Импорт блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain).

9. Запустите ноду, выполнив следующую команду:

   ```bash
   java -jar waves.jar waves.conf
   ```

## Обновление DEB ноды

Чтобы обновить **DEB** ноду, выполните следующие шаги:

1. Запустите ноду, если она не запущена, выполнив следующую команду:

   ```bash
   # sudo systemctl start waves
   ```

   **Note:** Более подробно запуск ноды описан в статье [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

2. Проверьте версию установленной ноды в файле **/var/log/waves/waves.log** (расположение по умолчанию) или выполните следующую команду:

   ```bash
   # dpkg -l waves
   ```

3. Проверьте актуальную версию ноды на странице [Releases](https://github.com/wavesplatform/Waves/releases) и скачайте последнюю версию (**Mainnet**, **Testnet** или **Stagenet**, в зависимости типа ноды) **DEB** файл.
4. Изучите информацию о версии (release notes) на предмет необходимости повторной сборки базы данных состояния.
5. **При необходимости:** если новая версия ноды подразумевает повторную сборку блокчейна, экспортируйте существующую базу данных.
Подробное описание экспорта/импорта базы данных описано в статьях [Экспорт/Импорт блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain) и [Загрузка актуального блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/state-downloading-and-applying).

   **Note:** импорт/экспорт блоков не является обязательным, но позволит сэкономить интернет-трафик и не загружать базу данных из сети целиком.

6. Остановите ноду, выполнив следующую команду:

   ```bash
   # sudo systemctl stop waves
   ```

7. Обновите существующий файл **DEB**, выполнив следующую команду:  

   ```bash
   # sudo dpkg -i waves_X.Y.Z_all.deb
   ```

8. если новая версия ноды подразумевает повторную сборку базы данных, импортируйте бинарный файл. Подробное описание импорта блоков описано в статье [Экспорт/Импорт блокчейна](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain).

9. Запустите ноду, выполнив следующую команду:

   ```bash
   # sudo systemctl start waves
   ```

## Обновление файла конфигурации ноды

Подробное описание файла конфигурации ноды содержится в статье [Конфигурация ноды](/ru/waves-node/node-configuration).
