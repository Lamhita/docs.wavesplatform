# Surfboard

Surfboard — интерфейс командной строки для работы с Ride и блокчейном Waves.

Возможности Surfboard:

* Компиляция скриптов на языке Ride.
* Интерактивная консоль Ride REPL.
* Запуск JavaScript-тестов и скриптов. Surfboard из коробки поддерживает функции [js-test-env](https://wavesplatform.github.io/js-test-env/globals.html).

## Установка и настройка

1. Скачайте и установите Node.js: <https://nodejs.org/ru/download/>.
2. Установите Surfboard:

   ```bash
   nmp i -g @waves/surfboard
   ```

3. Создайте пустую папку и выполните в ней команду:

   ```bash
   surfboard init
   ```

Эта команда создает структуру проекта:

* В папке `ride` находится пример Ride-скрипта.
* В папке `script` находится пример JS-скрипта, который устанавливает Ride-скрипт на аккаунт.
* В папке `test` находится пример JS-теста.
* В файле `surfboarf.config.json` находятся настройки для работы с блокчейном.

Чтобы изменить настройки, отредактируйте файл `surfboarf.config.json` или используйте команду:

```bash
surfboard config:change KEY VALUE
```

1. Файл настроек поддерживает несколько сред. Укажите среду по умолчанию в параметре `defaultEnv`.
2. Если требуется, измените URL ноды и [сеть блокчейна](/ru/blockchain/blockchain-network/chain-id).
3. Укажите секретную фразу (seed) аккаунта.

## Компиляция Ride-скрипта

Написать код скрипта можно в любом текстовом редакторе — например, в Visual Studio Code с [расширением Ride](/ru/building-apps/smart-contracts/tools/ride-vscode).

Перед установкой скрипта на аккаунт или ассет его необходимо скомпилировать. Для компиляции используйте встроенную JS-функцию `compile` (пример JS-скрипта вы найдете в папке `script`), или команду

```bash
surfboard compile FILE
```

Например, команда

```bash
surfboard compile ride/wallet.ride > wallet.compiled
```

скомпилирует пример Ride-скрипта и запишет его в файл wallet.compiled в кодировке base64. В таком виде его можно указать в транзакции установки скрипта.

## Установка Ride-скрипта

Чтобы установить dApp-скрипт или скрипт аккаунта, нужно отправить с этого аккаунта [транзакцию установки скрипта](/ru/blockchain/transaction-type/set-script-transaction), содержащую скомпилированный скрипт. Комиссия за установку скрипта составляет 0,01 WAVES — не забудьте пополнить баланс аккаунта.

Чтобы выпустить смарт-ассет, нужно отправить [транзакцию выпуска](/ru/blockchain/transaction-type/issue-transaction), содержащую скомпилированный скрипт. Комиссия за выпуск ассета составляет 1 WAVES. Чтобы изменить скрипт ассета, нужно отправить [транзакцию установки скрипта ассета](/ru/blockchain/transaction-type/set-asset-script-transaction), содержащую скомпилированный скрипт. Комиссия за установку скрипта ассета составляет 1,003 WAVES.

Для отправки транзакции можно использовать JS-скрипт. Пример JS-скрипта вы найдете в папке `script` (в этом примере не требуется предварительная компиляция Ride-скрипта, поскольку ). Для запуска скрипта используйте команду:

```bash
surfboard run FILE
```

## Запуск тестов

Для тестирования dApp-скрипта нужно отправить транзакцию вызова скрипта. Комиссия за вызов скрипта составляет от 0,005 WAVES и зависит от количества смарт-ассетов, используемых в вызове. Формула расчета комиссии приведена в разделе [Комиссия за транзакцию](/ru/blockchain/transaction/transaction-fee).

В JS-тестах поддерживаются функции `describe`, `it`, `expect` и другие. Пример JS-теста вы найдете в папке `test`. Для запуска теста используйте команду:

```bash
surfboard test FILE
```

## Ride REPL: интерактивная консоль Ride

В консоли Ride REPL можно ввести любое выражение на языке Ride и сразу увидеть результат.

Чтобы запустить Ride REPL, выполните команду:

```bash
surfboard repl
```

[Подробнее о REPL](/ru/building-apps/smart-contracts/tools/repl)

## Все команды

Список команд Surfboard приведен в репозитории [Surfboard](https://github.com/wavesplatform/surfboard#surfboard-help-command) на GihHub.
