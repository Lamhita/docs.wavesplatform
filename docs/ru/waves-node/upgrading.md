# Обновить ноду

Если вы являетесь владельцем ноды, регулярно проверяйте обновления на странице [Releases](https://github.com/wavesplatform/Waves/releases/). При появлении обновления, подразумевающего изменения консенсуса, необходимо обновить ноду. Если не применить обновления, содержащие изменения консенсуса, ваша нода может перестать работать. Релизы новых версий поставляются с документом, в котором описываются новые функции и сообщается как обновлять ноду.

Перед обновлением ноды проверьте способ установки. Это может быть **DEB**-пакет (Deb-base GNU/Linux) **JAR**-файл (любая операционная система). В зависимости от типа используемой установки выполните одну из следующих процедур для обновления ноды. Для получения дополнительной информации о типах установки ноды Waves см. статью [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

## Обновление через APT-репозиторий

Пожалуй, самый удобный метод установки/обновления ноды Waves на Linux — из APT-репозитория. Репозиторий содержит пакеты для Mainnet, Testnet и Stagenet.

Подробное описание процесса см. в секции [Установка из APT репозитория](/ru/waves-node/how-to-install-a-node/on-ubuntu#установка-из-apt-репозитория) статьи про установку ноды.

## Обновление JAR-ноды

Чтобы обновить JAR-ноду:

1. Запустите ноду, если она не запущена, выполнив следующую команду:

   ```bash
   java -jar waves.jar waves.conf
   ```

   Более подробно запуск ноды описан в статье  [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

2. Проверьте версию установленной ноды в файле `/var/log/waves/waves.log` или в названии JAR-файла.
3. Проверьте актуальную версию ноды на странице [Releases](https://github.com/wavesplatform/Waves/releases) и скачайте последнюю версию JAR-файла (для Mainnet, Testnet или Stagenet).
4. Проверьте в информации о версии (release notes), требуется ли перестроить базу данных блокчейна.
5. **При необходимости:** если новая версия ноды требует перестройки базы данных, экспортируйте существующую базу данных.
Подробное описание экспорта/импорта приведено в статьях [Экспортировать и импортировать блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain) и [Загрузить актуальный блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/state-downloading-and-applying).

   **Примечание.** Экспорт/импорт блоков не является обязательным, но позволит сэкономить интернет-трафик и не загружать базу данных из сети целиком.

6. Остановите ноду (java-процесс Waves).

7. Замените старый JAR-файл новой скачанной версией.

8. **При необходимости:** если новая версия ноды требует перестройки базы данных, импортируйте файл. Подробное описание импорта блоков приведено в статье [Экспортировать и импортировать блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain).

9. Запустите ноду, выполнив следующую команду:

   ```bash
   java -jar waves.jar waves.conf
   ```

## Обновление DEB-ноды

Чтобы обновить DEB-ноду:

1. Запустите ноду, если она не запущена, выполнив следующую команду:

   ```bash
   # sudo systemctl start waves
   ```

   Более подробно запуск ноды описан в статье [Установить ноду Waves](/ru/waves-node/how-to-install-a-node/how-to-install-a-node).

2. Проверьте версию установленной ноды в файле `/var/log/waves/waves.log` (расположение по умолчанию) или выполните следующую команду:

   ```bash
   # dpkg -l waves
   ```

3. Проверьте актуальную версию ноды на странице [Releases](https://github.com/wavesplatform/Waves/releases) и скачайте последнюю версию DEB-пакета (для Mainnet, Testnet или Stagenet).
4. Проверьте в информации о версии (release notes), требуется ли перестроить базу данных блокчейна.
5. **При необходимости:** если новая версия ноды требует перестройки базы данных, экспортируйте существующую базу данных.
Подробное описание экспорта/импорта приведено в статьях [Экспортировать и импортировать блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain) и [Загрузить актуальный блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/state-downloading-and-applying).

   **Примечание.** Экспорт/импорт блоков не является обязательным, но позволит сэкономить интернет-трафик и не загружать базу данных из сети целиком.

6. Остановите ноду, выполнив следующую команду:

   ```bash
   # sudo systemctl stop waves
   ```

7. Обновите существующий DEB-пакет, выполнив следующую команду:

   ```bash
   # sudo dpkg -i waves_X.Y.Z_all.deb
   ```

8. **При необходимости:** если новая версия ноды требует перестройки базы данных, импортируйте бинарный файл. Подробное описание импорта блоков приведено в статье [Экспортировать и импортировать блокчейн](/ru/waves-node/options-for-getting-actual-blockchain/import-from-the-blockchain).

9. Запустите ноду, выполнив следующую команду:

   ```bash
   # sudo systemctl start waves
   ```

## Обновление файла конфигурации ноды

Подробное описание файла конфигурации ноды приведено в статье [Конфигурация ноды](/ru/waves-node/node-configuration).
